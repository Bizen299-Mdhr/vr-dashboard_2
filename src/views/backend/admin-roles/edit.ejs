<!-- Main Content-->
<div id="content-page" class="content-page">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12 ">
                <%- include('../partials/messages') %>
                    <div class="iq-card">
                        <div class="iq-card-header d-flex justify-content-between">
                            <div class="iq-header-title">
                                <h4 class="card-title">
                                    <%= pageTitle %>
                                </h4>

                            </div>

                        </div>
                        <div class="iq-card-body">
                            <form action="/admin-roles/<%= role._id %>?_method=PUT" method="post">
                                <input type="hidden" name="_csrf" value="<%-csrfToken%>">

                                <div class="row row-sm sticky-row">
                                    <div class="col-lg-12">
                                        <%- include('../partials/messages') %>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="card custom-card">
                                            <div class="card-body">
                                                <div class="inner__card_b1">
                                                    <div class="row align-items-baseline mt-3">
                                                        <div class="col-lg-6">
                                                            <div class="inner__border">
                                                                <div
                                                                    class="form-group form-check d-flex align-items-baseline">
                                                                    <p class="inner__card">
                                                                        <b>
                                                                            Name
                                                                            <span style="color:red;">*</span>
                                                                        </b>
                                                                    </p>
                                                                    <input type="text"
                                                                        class="form-control form__inner__b1 name"
                                                                        id="name" name="name" value="<%= role.name %>"
                                                                        required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="inner__border">
                                                                <div
                                                                    class="form-group form-check d-flex align-items-baseline">
                                                                    <p class="inner__card">
                                                                        <b>
                                                                            Slug
                                                                        </b>
                                                                        <span style="color:red;">*</span>
                                                                    </p>
                                                                    <input type="text"
                                                                        class="form-control form__inner__b1 slug"
                                                                        id="slug" name="slug" value="<%= role.slug %>"
                                                                        readonly required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Row -->
                                                    <div class="row row-sm">
                                                        <div class="col-12">
                                                            <div class="card custom-card">
                                                                <div class="card-body card__padding">
                                                                    <div aria-multiselectable="true" class="accordion"
                                                                        id="accordion" role="tablist">
                                                                        <div class="card">
                                                                            <div class="card-header" id="headingOne"
                                                                                role="tab">
                                                                                <a aria-controls="collapseOne"
                                                                                    aria-expanded="true"
                                                                                    data-toggle="collapse"
                                                                                    href="#collapseOne"><b>â–¼
                                                                                        Permissions
                                                                                        <span
                                                                                            style="color:red;">*</span>
                                                                                </a>
                                                                            </div>
                                                                            <div aria-labelledby="headingOne"
                                                                                class="collapse show" id="collapseOne"
                                                                                role="tabpanel">
                                                                                <div class="inner__border">

                                                                                    <div class="row">
                                                                                        <% for (const key in permission)
                                                                                            { %>
                                                                                            <div
                                                                                                class="col-sm-12 permission-title">
                                                                                                <div class="form-group">
                                                                                                    <label
                                                                                                        id="<%= key %>"
                                                                                                        class="checkbox checkbox-grey checkbox-primary font-bold capitalize">
                                                                                                        <input
                                                                                                            class="module"
                                                                                                            type="checkbox"
                                                                                                            value="<%= key %>"
                                                                                                            data-module="<%= key %>">
                                                                                                        <span
                                                                                                            class="input-span"></span>
                                                                                                        <%= (key).toUpperCase().replace(/-/g, ' '
                                                                                                            )%>

                                                                                                    </label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <% for (const key1 in
                                                                                                permission[key]) { %>
                                                                                                <div class="col-sm-4 <%= permission[key][key1].module %>"
                                                                                                    style="min-height: 32px;">
                                                                                                    <div class="form-group"
                                                                                                        style="margin-left: 24px;">
                                                                                                        <label
                                                                                                            class="checkbox checkbox-grey checkbox-primary sub-module permission">
                                                                                                            <input
                                                                                                                type="checkbox"
                                                                                                                value="<%= permission[key][key1].slug %>"
                                                                                                                <% if(
                                                                                                                role.permission.includes(permission[key][key1].slug)){
                                                                                                                %>
                                                                                                            checked <% }
                                                                                                                %>
                                                                                                                name="permission"
                                                                                                                class="permission"
                                                                                                                data-module="
                                                                                                                <%= permission[key][key1].module
                                                                                                                    %>">
                                                                                                                    <span
                                                                                                                        class="input-span"></span>
                                                                                                                    <%= permission[key][key1].name
                                                                                                                        %>

                                                                                                        </label>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <% } %>
                                                                                                    <% } %>
                                                                                    </div>
                                                                                </div>

                                                                            </div>
                                                                        </div>


                                                                        <div class="form-group">

                                                                            <button class="btn btn-primary"
                                                                                type="submit">
                                                                                Save
                                                                            </button>

                                                                            <button class="btn iq-bg-danger"
                                                                                type="button">
                                                                                <a href="<%= session.cancelUrl %>"
                                                                                    role="button">
                                                                                    Cancel
                                                                                </a>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <!-- accordion -->
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <!-- End Row -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>

                        </div>
                    </div>
            </div>
        </div>
    </div>
</div>
